{% extends "netflix_app/base.html" %}
{% load static %}

{% block content %}
<div class="consulta-container">
  <h2>üé¨ Recomendador de Pel√≠culas</h2>

  <form method="POST" action="">
    {% csrf_token %}
    <label for="consulta">Ingresa una pel√≠cula o g√©nero:</label>
    <input type="text" name="consulta" id="consulta" placeholder="Ejemplo: Acci√≥n, Titanic, Marvel" required>
    <button type="submit">Obtener recomendaciones</button>
  </form>

  {% if error %}
    <p style="color: red;">{{ error }}</p>
  {% endif %}

  {% if recomendaciones %}
    <h3>üéØ Resultados recomendados</h3>
    <table class="tabla-recomendaciones">
      <thead>
        <tr>
          <th>T√≠tulo</th>
          <th>G√©nero</th>
          <th>A√±o</th>
          <th>Duraci√≥n</th>
          <th>Director</th>
          <th>Pa√≠s</th>
          <th>Calificaci√≥n</th>
        </tr>
      </thead>
      <tbody>
        {% for r in recomendaciones %}
        <tr>
          <td>{{ r.titulo }}</td>
          <td>{{ r.genero }}</td>
          <td>{{ r.a√±o }}</td>
          <td>{{ r.duracion }}</td>
          <td>{{ r.director }}</td>
          <td>{{ r.pais }}</td>
          <td>{{ r.calificacion }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  {% endif %}
</div>
{% endblock %}
